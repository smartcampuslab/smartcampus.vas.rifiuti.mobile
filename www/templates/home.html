<ion-view>
	<ion-nav-buttons side="left">
		<button id="menuId" ng-click="leftClick()" class="button button-clear button-light icon-left" ng-class="{'ion-navicon': !noteSelected, 'ion-checkmark': noteSelected}">
			<span ng-class="{'bar-title': !noteSelected}" class="bar-title">{{titleText()}}</span>
            <div ng-class="{'title-subtext1': !noteSelected}" class= "title-subtext1">{{subTitleText()}}</div><!--{{selectedProfile.name}}</div>-->
		</button>
	</ion-nav-buttons>

	<ion-tabs class="tabs-balanced tabs-top home-tabs" delegate-handle="home-tabs">

		<ion-tab id="noteId" title="NOTE" on-select="readNotes()" on-deselect="noteReset()">            
			<ion-nav-buttons side="right">
				<button ng-click="edit()" class="button button-clear button-light icon-left menu-edit-button nav-bar-buttons-alignment" ng-show="noteSelected && !multipleNoteSelected">
					<img ng-src="img/ic_edit.png" class="standard-size" />
				</button>
				<button ng-click="click()" class="button button-clear button-light icon-left nav-bar-buttons-alignment bar-button">
					<img ng-src="{{variableIMG}}" class="standard-size" />
				</button>
				<!--ng-class="{'ion-plus': !noteSelected, 'ion-trash-b': noteSelected}"-->
			</ion-nav-buttons>
			<ion-content ng-class="{'background-note-noimg':notes[0]!=null, 'background-note': notes[0]==null}" class="home-tabs-content" has-bouncing="false">
                <div class="position-relative" style="margin-top:{{(height-74)*0.5-130}}px;" class="note-text" ng-if="notes[0]==null">
                    <p class="note-text">Tocca + per aggiungere una nota</p>
                    <img class="background-note" style="display:block; margin-left:auto; margin-right:auto" src="/img/ic_note.png">
                </div>
                <div class="position-relative" style="margin-top:0px;" class="note-text" ng-if="notes[0]==null">
                    <p class="note-text">ad esempio:<br><!-- {{(height-74)*0.5+40-((height-74)*0.5-100)}}px -->
                    "Portare la tv al CRM"<br>
                    "Pagare la bolletta dei rifiuti"
                    </p>
                </div>
				<ion-item  ng-repeat="item in notes" ng-click="noteSelect(item)" ng-class="{'background-green-light': selectedNotes.indexOf(item) != -1, 'background-grey-light': selectedNotes.indexOf(item) == -1}">
					{{item.note}}
				</ion-item>             
			</ion-content>
		</ion-tab>

		<ion-tab title="DOVE LO BUTTO?" delegate-handle="home-qwe">
			<ion-content class="home-tabs-content home-content" has-bouncing="false">
				<div class="list list-inset home-search-bar">
					<div class="item item-input-inset">
						<label class="item-input-wrapper">
							<input type="search" ng-init="searchQuery = ''" ng-model="searchQuery" placeholder="Che rifiuto vuoi buttare?">
						</label>
						<button id="searchButton" class="button button-small button-clear" ng-class="{'ion-search button-balanced': searchQuery.length == 0, 'ion-close button-stable': searchQuery.length > 0}" ng-click="searchQuery = ''"></button>
					</div>
					<ion-item ng-repeat="item in listaRifiuti | filter:match(searchQuery)" ng-href="#/app/rifiuto/{{item.nome}}">
						{{item.nome}}
					</ion-item>
				</div>
				<div class="row" ng-repeat="item in f">
					<div class="col home-grid">
						<a  class="hidden-link" ng-href="#/app/rifiuto/{{item.valore}}">
							<div>
								<img   id=rifiutoId ng-src="{{item.immagine}}" />{{item.valore}}
							</div>
						</a>
					</div>
					<div class="col home-grid" ng-class="{'hidden': rifiuti[f.indexOf(item)*3+1] == undefined}">
						<a class="hidden-link" ng-href="#/app/rifiuto/{{rifiuti[f.indexOf(item)*3+1].valore}}">
							<div>
								<img ng-src="{{rifiuti[f.indexOf(item)*3+1].immagine}}" />{{rifiuti[f.indexOf(item)*3+1].valore}}
							</div>
						</a>
					</div>
					<div class="col home-grid" ng-class="{'hidden': rifiuti[f.indexOf(item)*3+2] == undefined}">
						<a class="hidden-link" ng-href="#/app/rifiuto/{{rifiuti[f.indexOf(item)*3+2].valore}}">
							<div>
								<img ng-src="{{rifiuti[f.indexOf(item)*3+2].immagine}}" />{{rifiuti[f.indexOf(item)*3+2].valore}}
							</div>
						</a>
					</div>
				</div>
			</ion-content>
		</ion-tab>

		<ion-tab id="calendarioId" title="CALENDARIO">
			<ion-nav-buttons side="right">
				<button ng-click="" class="button button-clear button-light icon-left">
					<img src="img/ic_go_to_today.png" class="standard-size" />
				</button>
                <button ng-click="click2()" class="button button-clear button-light icon-left">
					<img src="{{variableIMG2}}" class="standard-size" />
				</button>
			</ion-nav-buttons>
			<ion-content  class="home-tabs-content background-grey-light">
				<div  ng-if="!calendarView" class="month">
					<div class="row">
						<div class="col col-10"><i class="icon icon-left ion-chevron-left"></i>
						</div>
						<div class="col month-name">{{month.name}}</div><!--da aggiungere lo stile-->
						<div  class="col col-10"><i style="float:right" class="icon icon-right ion-chevron-right"></i>
						</div>
					</div>
					<div class="row week-day">
						<div class="col">LUN</div>
						<div class="col">MAR</div>
						<div class="col">MER</div>
						<div class="col">GIO</div>
						<div class="col">VEN</div>
						<div class="col">SAB</div>
						<div class="col">DOM</div>
					</div>
					<div class="row week" ng-repeat="week in month.weeks">
						<div  class="col day" ng-repeat="item in getEmptyArrayByLenght(firstDayIndex(week))"></div>
						<div  class="col day" ng-class="{'today' : day.date == today, 'background-white' : day.date!=null}" ng-repeat="day in week"  ng-if="day.index!=5 || day.date>7">
							<div ng-if="day.date!=null" class="day-date">
								{{day.date}}
							</div>
							<div class="row no-orizontal-padding">
								<div class="separation-padding" ng-repeat="event in day.events">
									<div class="fixed-size" style="background-color:{{event.color}};"></div>
								</div>
								<div class="separation-padding" ng-if="day.events.length == 0">
									<div class="fixed-size"></div>
								</div>
							</div>
						</div>
						<div class="col day" ng-repeat="item in getEmptyArrayByLenght(6 - lastDayIndex(week))"></div>
					</div>
				</div>
				<!--<button  ng-if="!calendarView" ng-click="reset()">Emergency Reset!!! (PER DEBUG)</button>-->
			</ion-content>
            <ion-content >
                <ion-list ng-repeat="day in getEmptyArrayByLenght(DayDiff())" ng-if="calendarView">
                    <ion-item class="background-grey-light">
                        {{dayDayMonthYear(aggiungiGiorni($index))}}
                        <ion-item ></ion-item>
                    </ion-item>
                </ion-list>
            </ion-content>
		</ion-tab>

	</ion-tabs>
</ion-view>
